<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.external.mapper.ExHisChargeInfGzzlMapper">

    <!-- 查询住院病人信息 -->
    <select id="queryZyPatientInfoList"   resultType="org.jeecg.modules.external.entity.ExHisZyChargeInfGzzl">
      select
        * from
        v_GY_inpa_surg_info a
        where 1 = 1
        <if test="entity.gyZyh != null and entity.gyZyh != ''">
            AND a.gy_zyh LIKE concat('%',#{entity.gyZyh},'%')
        </if>
        <if test="entity.gyDrbs != null and entity.gyDrbs != ''">
            AND a.gy_drbs LIKE concat('%',#{entity.gyDrbs},'%')
        </if>
    </select>

    <!-- 查询门诊病人信息 -->
    <select id="queryMzPatientInfoList"   resultType="org.jeecg.modules.external.entity.ExHisMzChargeInfGzzl">
        select
        * from
        v_GY_Otpa_info a
        where 1 = 1
        <if test="entity.gyMzh != null and entity.gyMzh != ''">
            AND a.gy_mzh LIKE concat('%',#{entity.gyMzh},'%')
        </if>
    </select>

    <!-- 查询收费项目代码 -->
    <select id="queryHisChargeCode"   resultType="org.jeecg.modules.external.entity.ExHisChargeCodeGzzl">
        select
        * from
        v_GY_baseitem a
        where 1 = 1
        <if test="entity.gyXmbh != null and entity.gyXmbh != ''">
            AND a.gy_xmbh LIKE '%'+ #{entity.gyXmbh} +'%'
        </if>
        <if test="entity.gyXmmc != null and entity.gyXmmc != ''">
            AND (a.gy_xmmc LIKE '%'+ #{entity.gyXmmc} +'%'
            or a.gy_pym LIKE '%'+ #{entity.gyXmmc} +'%'
            or a.gy_wbm LIKE '%'+ #{entity.gyXmmc} +'%')
        </if>
    </select>


</mapper>